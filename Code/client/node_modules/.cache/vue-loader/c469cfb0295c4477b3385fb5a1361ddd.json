{"remainingRequest":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\src\\components\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\src\\components\\Login\\Login.vue","mtime":1714339280693},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1709809049077},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1709809064695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9odHRwJwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aScKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY291bnQ6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgeyB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmFjY291bnQgPT09ICcnKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7IG1lc3NhZ2U6ICdBY2NvdW50IGNhbm5vdCBiZSBlbXB0eSEnIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7IG1lc3NhZ2U6ICdQYXNzd29yZCBjYW5ub3QgYmUgZW1wdHkhJyB9KQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHBvc3QoJy91c2VyL2xvZ2luJywgeyBuYW1lOiB0aGlzLmFjY291bnQsIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkIH0pLnRoZW4oCiAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kZXNjcmlwdGlvbiA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICAgIE1lc3NhZ2Uuc3VjY2Vzcyh7IG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgTG9naW4nIH0pCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9zeXN0ZW0vYWNjb3VudE1hbmFnZScgfSkKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgcmVzLmRhdGFbMF0uaWQpCiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2hvdXNlSWQnLCByZXMuZGF0YVswXS5ob3VzZUlkKQogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgcmVzLmRhdGFbMF0ubmFtZSkKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaXNBZG1pbicsIHJlcy5kYXRhWzBdLmlzQWRtaW4pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICApCiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IG5hbWVQYXR0ZXJuID0gL15bYS16QS1aMC05Xy1dezIsMTZ9JC8KICAgICAgbGV0IHBhc3N3b3JkUGF0dGVybiA9IC9eW2EtekEtWjAtOV17OH0kLwogICAgICBpZiAodGhpcy5hY2NvdW50ID09PSAnJykgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoeyBtZXNzYWdlOiAnQWNjb3VudCBjYW5ub3QgYmUgZW1wdHkhJyB9KQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSAnJykgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoeyBtZXNzYWdlOiAnUGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5IScgfSkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAoIW5hbWVQYXR0ZXJuLnRlc3QodGhpcy5hY2NvdW50KSkgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ1RoZSB1c2VybmFtZSBtdXN0IGNvbnNpc3Qgb2YgMi0xNiBjaGFyYWN0ZXJzLCBsZXR0ZXJzLCBudW1iZXJzLCBhbmQgdW5kZXJzY29yZXMhJywKICAgICAgICB9KQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmICghcGFzc3dvcmRQYXR0ZXJuLnRlc3QodGhpcy5wYXNzd29yZCkpIHsKICAgICAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgcGFzc3dvcmQgbXVzdCBjb25zaXN0IG9mIDggbGV0dGVycyBhbmQgbnVtYmVycywgYW5kIGNhbm5vdCBjb250YWluIGlsbGVnYWwgY2hhcmFjdGVycyEnLAogICAgICAgIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHBvc3QoJy91c2VyL3JlZ2lzdGVyJywgewogICAgICAgIG5hbWU6IHRoaXMuYWNjb3VudCwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICBpc0FkbWluOiAxLAogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLmRlc2NyaXB0aW9uID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgIE1lc3NhZ2Uuc3VjY2Vzcyh7IG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgcGxlYXNlIGxvZ2luJyB9KQogICAgICAgICAgdGhpcy5hY2NvdW50ID09PSAnJwogICAgICAgICAgdGhpcy5wYXNzd29yZCA9PT0gJycKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/Login","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-title\">Comprehensive Personal Expenses Tracking System</div> \n    <div class=\"login-content\">\n      <div class=\"login-form\">\n        <el-input placeholder=\"Please enter your account number\" prefix-icon=\"el-icon-user\" v-model=\"account\"\n          class=\"input-text\">\n        </el-input>\n        <el-input placeholder=\"Please enter your password\" prefix-icon=\"el-icon-lock\" v-model=\"password\" show-password\n          class=\"input-text\">\n        </el-input>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-button class=\"submit-button\" type=\"primary\" round v-on:click=\"login\">Login</el-button>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-button class=\"submit-button\" round v-on:click=\"register\">Register</el-button>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { post } from '../../utils/http'\nimport { Message } from 'element-ui'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      account: '',\n      password: '',\n    }\n  },\n  mounted() { },\n  methods: {\n    login: function () {\n      if (this.account === '') {\n        Message.error({ message: 'Account cannot be empty!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: 'Password cannot be empty!' })\n        return\n      }\n      post('/user/login', { name: this.account, password: this.password }).then(\n        (res) => {\n          if (res.description === 'success') {\n            Message.success({ message: 'Successfully Login' })\n            this.$router.push({ path: '/system/accountManage' })\n            sessionStorage.setItem('userId', res.data[0].id)\n            sessionStorage.setItem('houseId', res.data[0].houseId)\n            sessionStorage.setItem('name', res.data[0].name)\n            sessionStorage.setItem('isAdmin', res.data[0].isAdmin)\n          }\n        }\n      )\n    },\n    register: function () {\n      let namePattern = /^[a-zA-Z0-9_-]{2,16}$/\n      let passwordPattern = /^[a-zA-Z0-9]{8}$/\n      if (this.account === '') {\n        Message.error({ message: 'Account cannot be empty!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: 'Password cannot be empty!' })\n        return\n      }\n      if (!namePattern.test(this.account)) {\n        Message.error({\n          message: 'The username must consist of 2-16 characters, letters, numbers, and underscores!',\n        })\n        return\n      }\n      if (!passwordPattern.test(this.password)) {\n        Message.error({\n          message: 'The password must consist of 8 letters and numbers, and cannot contain illegal characters!',\n        })\n        return\n      }\n\n      post('/user/register', {\n        name: this.account,\n        password: this.password,\n        isAdmin: 1,\n      }).then((res) => {\n        if (res.description === 'success') {\n          Message.success({ message: 'Successfully registered, please login' })\n          this.account === ''\n          this.password === ''\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style>\n#login {\n  height: 100%;\n  background: url('https://cn.bing.com/th?id=OHR.MoonDogs_ZH-CN5201314184_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp') 50% 50% / cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.login-title {\n   font-family: Arial, Helvetica, sans-serif;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 40px; \n  text-shadow: #000 1px 0 0, #000 0 1px 0, #000 -1px 0 0, #000 0 -1px 0;\n}\n\n.login-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.login-form {\n  padding: 30px 60px 60px 60px;\n  width: 400px;\n}\n\n.input-text {\n  margin-bottom: 25px;\n}\n\n.submit-button {\n  width: 96%;\n}\n</style>\n"]}]}