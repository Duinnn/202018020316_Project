{"remainingRequest":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Statistics\\Statistics.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Statistics\\Statistics.vue","mtime":1636352105000},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1709809049077},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1709809064695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uL3V0aWxzL2h0dHAnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3RhdHNpdGljcycsCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlcigpCiAgICB0aGlzLmNoYW5nZVRpbWUoKQogICAgdGhpcy5nZXRQaWVEYXRhKCkKICAgIGNvbnNvbGUubG9nKHRoaXMucGllRGF0YSkKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lVHlwZTogJzEnLAogICAgICBhbGxEYXRhOiB7fSwKICAgICAgbGluZURhdGE6IHt9LAogICAgICBwaWVEYXRhOiBbXSwKICAgICAgdXNlckxpc3Q6IFtdLAogICAgICB1c2VySWQ6ICcwMDAwMDAnLAogICAgICBvbmx5U2VsZjogZmFsc2UsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmF3TGluZSgpIHsKICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iwogICAgICBsZXQgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluZUNoYXJ0JykpCiAgICAgIC8vIOe7mOWItuWbvuihqAogICAgICBteUNoYXJ0LnNldE9wdGlvbih7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfmlLblhaXmlK/lh7rnu5/orqEnLAogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnLAogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiBbJ+aUtuWFpScsICfmlK/lh7onXSwKICAgICAgICB9LAogICAgICAgIGNvbG9yOiBbJyNDQ0NDRkYnLCAnI0ZGQ0NDQyddLAogICAgICAgIGdyaWQ6IHsKICAgICAgICAgIGxlZnQ6ICczJScsCiAgICAgICAgICByaWdodDogJzQlJywKICAgICAgICAgIGJvdHRvbTogJzMlJywKICAgICAgICAgIGNvbnRhaW5MYWJlbDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHRvb2xib3g6IHsKICAgICAgICAgIGZlYXR1cmU6IHsKICAgICAgICAgICAgc2F2ZUFzSW1hZ2U6IHt9LAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgYm91bmRhcnlHYXA6IGZhbHNlLAogICAgICAgICAgZGF0YTogdGhpcy5saW5lRGF0YS5kYXRlTGlzdCA/IHRoaXMubGluZURhdGEuZGF0ZUxpc3QgOiBbXSwKICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7CiAgICAgICAgICB0eXBlOiAndmFsdWUnLAogICAgICAgICAgc3BsaXRMaW5lOiB7CiAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgIHR5cGU6ICdkYXNoZWQnLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgfSwKICAgICAgICAgIGF4aXNUaWNrOiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHNlcmllczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAn5pS25YWlJywKICAgICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgICBzdGFjazogJ+aAu+mHjycsCiAgICAgICAgICAgIGRhdGE6IHRoaXMubGluZURhdGEuaW5jb21lTGlzdCA/IHRoaXMubGluZURhdGEuaW5jb21lTGlzdCA6IFtdLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ+aUr+WHuicsCiAgICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgICAgc3RhY2s6ICfmgLvph48nLAogICAgICAgICAgICBkYXRhOiB0aGlzLmxpbmVEYXRhLmV4cGVuZExpc3QgPyB0aGlzLmxpbmVEYXRhLmV4cGVuZExpc3QgOiBbXSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSkKICAgIH0sCiAgICBkcmF3UGllKCkgewogICAgICAvLyDln7rkuo7lh4blpIflpb3nmoRkb23vvIzliJ3lp4vljJZlY2hhcnRz5a6e5L6LCiAgICAgIGxldCBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaWVDaGFydCcpKQogICAgICBteUNoYXJ0LnNldE9wdGlvbih7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfmtojotLnnsbvlnosnLAogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nLAogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiB0aGlzLnBpZURhdGEubWFwKChpdGVtKSA9PiBpdGVtLm5hbWUpLAogICAgICAgIH0sCiAgICAgICAgY29sb3I6IFsKICAgICAgICAgICcjODVjN2RlJywKICAgICAgICAgICcjZTdkOGM5JywKICAgICAgICAgICcjQ0RCNERCJywKICAgICAgICAgICcjYzlmMmM3JywKICAgICAgICAgICcjRkZDOEREJywKICAgICAgICAgICcjRkZBRkNDJywKICAgICAgICAgICcjQkRFMEZFJywKICAgICAgICAgICcjQTJEMkZGJywKICAgICAgICAgICcjRkVDNUJCJywKICAgICAgICAgICcjRDhFMkRDJywKICAgICAgICAgICcjQjBDNEIxJywKICAgICAgICAgICcjRUFBQzhCJywKICAgICAgICAgICcjODhkNDk4JywKICAgICAgICBdLAogICAgICAgIHNlcmllczogWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAn5raI6LS557G75Z6LJywKICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgIHJhZGl1czogJzY1JScsCiAgICAgICAgICAgIGNlbnRlcjogWyc1MCUnLCAnNjUlJ10sCiAgICAgICAgICAgIGF2b2lkTGFiZWxPdmVybGFwOiBmYWxzZSwKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMCwKICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyNmZmYnLAogICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLAogICAgICAgICAgICB9LAogICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAnY2VudGVyJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IHRoaXMucGllRGF0YSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSkKICAgIH0sCiAgICBnZXREYXRhKCkgewogICAgICBnZXQoJy9iaWxsL3N0YXRpc3RpY3NCeVRpbWUnLCB7CiAgICAgICAgaG91c2VJZDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnaG91c2VJZCcpLAogICAgICAgIHVzZXJJZDoKICAgICAgICAgIHRoaXMudXNlcklkID09PSAnMDAwMDAwJwogICAgICAgICAgICA/IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpCiAgICAgICAgICAgIDogdGhpcy51c2VySWQsCiAgICAgICAgdGltZVR5cGU6IHRoaXMudGltZVR5cGUsCiAgICAgICAgb25seVNlbGY6IHRoaXMub25seVNlbGYsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuZGVzY3JpcHRpb24gPT09ICdzdWNjZXNzJykgewogICAgICAgICAgdGhpcy5hbGxEYXRhID0gewogICAgICAgICAgICB0b3RhbEluY29tZTogcmVzLmRhdGEudG90YWxJbmNvbWUsCiAgICAgICAgICAgIHRvdGFsRXhwZW5kOiByZXMuZGF0YS50b3RhbEV4cGVuZCwKICAgICAgICAgICAgdG90YWxCdWRnZXQ6IHJlcy5kYXRhLnRvdGFsQnVkZ2V0LAogICAgICAgICAgICB0b3RhbFJlbWFpbjogKHJlcy5kYXRhLnRvdGFsSW5jb21lIC0gcmVzLmRhdGEudG90YWxFeHBlbmQpLnRvRml4ZWQoCiAgICAgICAgICAgICAgMgogICAgICAgICAgICApLAogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5hbGxEYXRhLnRvdGFsSW5jb21lKQogICAgICAgICAgdGhpcy5kcmF3UGllKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZ2V0TGluZURhdGEoKSB7CiAgICAgIGdldCgnL2JpbGwvc3RhdGlzdGljc0xpbmVDaGFydCcsIHsKICAgICAgICBob3VzZUlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdob3VzZUlkJyksCiAgICAgICAgdXNlcklkOgogICAgICAgICAgdGhpcy51c2VySWQgPT09ICcwMDAwMDAnCiAgICAgICAgICAgID8gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykKICAgICAgICAgICAgOiB0aGlzLnVzZXJJZCwKICAgICAgICB0aW1lVHlwZTogdGhpcy50aW1lVHlwZSwKICAgICAgICBvbmx5U2VsZjogdGhpcy5vbmx5U2VsZiwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5kZXNjcmlwdGlvbiA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMubGluZURhdGEsIHJlcy5kYXRhKQogICAgICAgICAgdGhpcy5kcmF3TGluZSgpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGdldFBpZURhdGEoKSB7CiAgICAgIGdldCgnL2JpbGwvc3RhdGlzdGljc1R5cGUnLCB7CiAgICAgICAgaG91c2VJZDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnaG91c2VJZCcpLAogICAgICAgIHVzZXJJZDoKICAgICAgICAgIHRoaXMudXNlcklkID09PSAnMDAwMDAwJwogICAgICAgICAgICA/IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpCiAgICAgICAgICAgIDogdGhpcy51c2VySWQsCiAgICAgICAgdGltZVR5cGU6IHRoaXMudGltZVR5cGUsCiAgICAgICAgb25seVNlbGY6IHRoaXMub25seVNlbGYsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuZGVzY3JpcHRpb24gPT09ICdzdWNjZXNzJykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICBsZXQgbmV3RGF0YSA9IFtdCiAgICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goeyBuYW1lOiBlbGVtZW50Lm5hbWUsIHZhbHVlOiBlbGVtZW50Lm1vbmV5IH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMucGllRGF0YSA9IG5ld0RhdGEKICAgICAgICAgICAgdGhpcy5kcmF3UGllKCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgY2hhbmdlVGltZSgpIHsKICAgICAgdGhpcy5nZXREYXRhKCkKICAgICAgdGhpcy5nZXRMaW5lRGF0YSgpCiAgICAgIHRoaXMuZ2V0UGllRGF0YSgpCiAgICB9LAogICAgZ2V0VXNlcigpIHsKICAgICAgZ2V0KCcvdXNlci9xdWVyeScsIHsKICAgICAgICBob3VzZUlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdob3VzZUlkJyksCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuZGVzY3JpcHRpb24gPT09ICdzdWNjZXNzJykgewogICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlcy5kYXRhLmxpc3QKICAgICAgICAgIHRoaXMudXNlckxpc3QudW5zaGlmdCh7CiAgICAgICAgICAgIGlkOiAnMDAwMDAwJywKICAgICAgICAgICAgbmFtZTogJ+WFqOmDqCcsCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBjaGFuZ2VVc2VySWQodXNlcklkKSB7CiAgICAgIHRoaXMub25seVNlbGYgPSBmYWxzZQogICAgICBpZiAodXNlcklkID09PSBOdW1iZXIoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykpKSB7CiAgICAgICAgdGhpcy5vbmx5U2VsZiA9IHRydWUKICAgICAgfQogICAgICB0aGlzLnVzZXJJZCA9IHVzZXJJZAogICAgICB0aGlzLmNoYW5nZVRpbWUoKQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["Statistics.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Statistics.vue","sourceRoot":"src/components/Statistics","sourcesContent":["<template>\n  <div>\n    <div class=\"top\">\n      <div class=\"card\">\n        <div class=\"card-item\">\n          <div>\n            收入<span>{{ allData.totalIncome }}</span\n            >元\n          </div>\n        </div>\n        <div class=\"card-item\">\n          <div>\n            支出<span>{{ allData.totalExpend }}</span\n            >元\n          </div>\n        </div>\n        <div class=\"card-item\">\n          <div>\n            余额<span>{{ allData.totalRemain }}</span\n            >元\n          </div>\n        </div>\n        <!-- <div class=\"card-item\">\n          <div>预算<span>{{ allData.totalBudget }}</span>元</div>\n        </div> -->\n      </div>\n      <div class=\"top-options\">\n        <el-select\n          style=\"width: 290px; margin-right: 20px\"\n          v-model=\"userId\"\n          placeholder=\"请选择家庭成员\"\n          @change=\"changeUserId\"\n        >\n          <el-option\n            v-for=\"item in userList\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          >\n          </el-option>\n        </el-select>\n        <el-radio-group v-model=\"timeType\" @change=\"changeTime\">\n          <el-radio-button label=\"1\">本月</el-radio-button>\n          <el-radio-button label=\"2\">近三月</el-radio-button>\n          <el-radio-button label=\"3\">近半年</el-radio-button>\n          <el-radio-button label=\"4\">近一年</el-radio-button>\n        </el-radio-group>\n      </div>\n    </div>\n\n    <div style=\"display: flex\">\n      <div id=\"lineChart\"></div>\n      <div id=\"pieChart\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { get } from '../../utils/http'\nexport default {\n  name: 'Statsitics',\n  mounted() {\n    this.getUser()\n    this.changeTime()\n    this.getPieData()\n    console.log(this.pieData)\n  },\n  data() {\n    return {\n      timeType: '1',\n      allData: {},\n      lineData: {},\n      pieData: [],\n      userList: [],\n      userId: '000000',\n      onlySelf: false,\n    }\n  },\n  methods: {\n    drawLine() {\n      // 基于准备好的dom，初始化echarts实例\n      let myChart = this.$echarts.init(document.getElementById('lineChart'))\n      // 绘制图表\n      myChart.setOption({\n        title: {\n          text: '收入支出统计',\n        },\n        tooltip: {\n          trigger: 'axis',\n        },\n        legend: {\n          data: ['收入', '支出'],\n        },\n        color: ['#CCCCFF', '#FFCCCC'],\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true,\n        },\n        toolbox: {\n          feature: {\n            saveAsImage: {},\n          },\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: this.lineData.dateList ? this.lineData.dateList : [],\n          axisLine: {\n            show: false,\n          },\n        },\n        yAxis: {\n          type: 'value',\n          splitLine: {\n            lineStyle: {\n              type: 'dashed',\n            },\n          },\n          axisLine: {\n            show: false,\n          },\n          axisTick: {\n            show: false,\n          },\n        },\n        series: [\n          {\n            name: '收入',\n            type: 'line',\n            stack: '总量',\n            data: this.lineData.incomeList ? this.lineData.incomeList : [],\n          },\n          {\n            name: '支出',\n            type: 'line',\n            stack: '总量',\n            data: this.lineData.expendList ? this.lineData.expendList : [],\n          },\n        ],\n      })\n    },\n    drawPie() {\n      // 基于准备好的dom，初始化echarts实例\n      let myChart = this.$echarts.init(document.getElementById('pieChart'))\n      myChart.setOption({\n        title: {\n          text: '消费类型',\n        },\n        tooltip: {\n          trigger: 'item',\n        },\n        legend: {\n          data: this.pieData.map((item) => item.name),\n        },\n        color: [\n          '#85c7de',\n          '#e7d8c9',\n          '#CDB4DB',\n          '#c9f2c7',\n          '#FFC8DD',\n          '#FFAFCC',\n          '#BDE0FE',\n          '#A2D2FF',\n          '#FEC5BB',\n          '#D8E2DC',\n          '#B0C4B1',\n          '#EAAC8B',\n          '#88d498',\n        ],\n        series: [\n          {\n            name: '消费类型',\n            type: 'pie',\n            radius: '65%',\n            center: ['50%', '65%'],\n            avoidLabelOverlap: false,\n            itemStyle: {\n              borderRadius: 10,\n              borderColor: '#fff',\n              borderWidth: 2,\n            },\n            label: {\n              show: false,\n              position: 'center',\n            },\n            labelLine: {\n              show: false,\n            },\n            data: this.pieData,\n          },\n        ],\n      })\n    },\n    getData() {\n      get('/bill/statisticsByTime', {\n        houseId: sessionStorage.getItem('houseId'),\n        userId:\n          this.userId === '000000'\n            ? sessionStorage.getItem('userId')\n            : this.userId,\n        timeType: this.timeType,\n        onlySelf: this.onlySelf,\n      }).then((res) => {\n        if (res.description === 'success') {\n          this.allData = {\n            totalIncome: res.data.totalIncome,\n            totalExpend: res.data.totalExpend,\n            totalBudget: res.data.totalBudget,\n            totalRemain: (res.data.totalIncome - res.data.totalExpend).toFixed(\n              2\n            ),\n          }\n          console.log(this.allData.totalIncome)\n          this.drawPie()\n        }\n      })\n    },\n    getLineData() {\n      get('/bill/statisticsLineChart', {\n        houseId: sessionStorage.getItem('houseId'),\n        userId:\n          this.userId === '000000'\n            ? sessionStorage.getItem('userId')\n            : this.userId,\n        timeType: this.timeType,\n        onlySelf: this.onlySelf,\n      }).then((res) => {\n        if (res.description === 'success') {\n          Object.assign(this.lineData, res.data)\n          this.drawLine()\n        }\n      })\n    },\n    getPieData() {\n      get('/bill/statisticsType', {\n        houseId: sessionStorage.getItem('houseId'),\n        userId:\n          this.userId === '000000'\n            ? sessionStorage.getItem('userId')\n            : this.userId,\n        timeType: this.timeType,\n        onlySelf: this.onlySelf,\n      }).then((res) => {\n        if (res.description === 'success') {\n          if (res.data.length) {\n            let newData = []\n            res.data.forEach((element) => {\n              newData.push({ name: element.name, value: element.money })\n            })\n            this.pieData = newData\n            this.drawPie()\n          }\n        }\n      })\n    },\n    changeTime() {\n      this.getData()\n      this.getLineData()\n      this.getPieData()\n    },\n    getUser() {\n      get('/user/query', {\n        houseId: sessionStorage.getItem('houseId'),\n      }).then((res) => {\n        if (res.description === 'success') {\n          this.userList = res.data.list\n          this.userList.unshift({\n            id: '000000',\n            name: '全部',\n          })\n        }\n      })\n    },\n    changeUserId(userId) {\n      this.onlySelf = false\n      if (userId === Number(sessionStorage.getItem('userId'))) {\n        this.onlySelf = true\n      }\n      this.userId = userId\n      this.changeTime()\n    },\n  },\n}\n</script>\n\n<style>\n.top {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.top-options {\n  display: flex;\n  align-items: flex-end;\n}\n.card {\n  display: flex;\n  padding-bottom: 20px;\n}\n.card-item {\n  display: flex;\n  flex-direction: column;\n  padding: 20px 30px;\n  border: 1px solid #f0f0f0;\n  box-shadow: 0 2px 12px 0 rgb(0 0 0 / 10%);\n  border-radius: 6px;\n  margin-right: 20px;\n}\n\n.card-item:nth-child(1) span {\n  padding: 0 5px;\n  color: #67c23a;\n}\n.card-item:nth-child(2) span {\n  color: #e6a23c;\n  padding: 0 5px;\n}\n.card-item:nth-child(3) span {\n  color: #f56c6c;\n  padding: 0 5px;\n}\n.card-item:nth-child(4) span {\n  color: #909399;\n  padding: 0 5px;\n}\n#lineChart {\n  width: calc(50% - 40px);\n  padding: 20px 20px;\n  height: 400px;\n}\n#pieChart {\n  width: calc(50% - 40px);\n  padding: 20px 20px;\n  height: 400px;\n}\n</style>\n"]}]}