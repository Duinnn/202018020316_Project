{"remainingRequest":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Home\\Home.vue","mtime":1711184658822},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1709809049077},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1709809064695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVc2VyTWFuYWdlIGZyb20gJy4uL1VzZXJNYW5hZ2UvVXNlck1hbmFnZS52dWUnCmltcG9ydCBTdGF0aXN0aWNzIGZyb20gJy4uL1N0YXRpc3RpY3MvU3RhdGlzdGljcy52dWUnCmltcG9ydCBBY2NvdW50c01hbmFnZSBmcm9tICcuLi9BY2NvdW50c01hbmFnZS9BY2NvdW50c01hbmFnZS52dWUnCmltcG9ydCBDb25zdW1lTWFuYWdlIGZyb20gJy4uL0NvbnN1bWVNYW5hZ2UvQ29uc3VtZU1hbmFnZS52dWUnCmltcG9ydCB7IHB1dCB9IGZyb20gJy4uLy4uL3V0aWxzL2h0dHAnCmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7CiAgICBVc2VyTWFuYWdlLAogICAgU3RhdGlzdGljcywKICAgIEFjY291bnRzTWFuYWdlLAogICAgQ29uc3VtZU1hbmFnZSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBsZXQgcm91dGVyID0gewogICAgICAnIy9zeXN0ZW0vYWNjb3VudE1hbmFnZSc6ICcxJywKICAgICAgJyMvc3lzdGVtL3N0YXRpc3RpY3MnOiAnMicsCiAgICAgICcjL3N5c3RlbS91c2VyTWFuYWdlJzogJzMnLAogICAgICAnIy9zeXN0ZW0vY29uc3VtZU1hbmFnZSc6ICc0JywKICAgIH0KICAgIHRoaXMuZGVmYXVsdE1lbnUgPSByb3V0ZXJbd2luZG93LmxvY2F0aW9uLmhhc2hdCiAgICB0aGlzLmlzQWRtaW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdpc0FkbWluJykgPT0gJzEnID8gdHJ1ZSA6IGZhbHNlCiAgfSwKICBkYXRhKCkgewogICAgbGV0IHBhdGggPSB3aW5kb3cubG9jYXRpb24uaGFzaAogICAgbGV0IHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1BsZWFzZSBlbnRlciBwYXNzd29yZCcpKQogICAgICB9IGVsc2UgewogICAgICAgIGxldCByZWcgPSAvXlthLXpBLVowLTldezh9JC8KICAgICAgICBpZiAoIXJlZy50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgcGFzc3dvcmQgbXVzdCBjb25zaXN0IG9mIDggbGV0dGVycyBhbmQgbnVtYmVycywgYW5kIGNhbm5vdCBjb250YWluIGlsbGVnYWwgY2hhcmFjdGVycyEnKSkKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrKCkKICAgICAgfQogICAgfQogICAgcmV0dXJuIHsKICAgICAgcGF0aCwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBwYXNzd29yZE1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBvbGRQYXNzV29yZDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNvbmZpcm1QYXNzV29yZDogJycsCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgb2xkUGFzc1dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdUaGUgb3JpZ2luYWwgcGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5JywgdHJpZ2dlcjogJ2NoYW5nZScgfSwKICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnVGhlIHBhc3N3b3JkIGNhbm5vdCBiZSBlbXB0eScgfSwKICAgICAgICAgIHsgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkLCB0cmlnZ2VyOiAnY2hhbmdlJyB9LAogICAgICAgIF0sCiAgICAgICAgY29uZmlybVBhc3NXb3JkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnVGhlIGNvbmZpcm0gcGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5JyB9LAogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQsIHRyaWdnZXI6ICdjaGFuZ2UnIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgZm9ybUxhYmVsV2lkdGg6ICcxMjBweCcsCiAgICAgIG5hbWU6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ25hbWUnKSwKICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgIGRlZmF1bHRNZW51OiAnMScsCiAgICB9CiAgfSwKICBtb3VudGVyKCkge30sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2VsZWN0KCkge30sCiAgICBjaGFuZ2VSb3V0ZShwYXRoKSB7CiAgICAgIHRoaXMucGF0aCA9IHBhdGgKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoIH0pCiAgICB9LAogICAgbG9naW5PdXQocGF0aCkgewogICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aCB9KQogICAgfSwKICAgIGhhbmRsZUNvbW1hbmQoY29tbWFuZCkgewogICAgICBpZiAoY29tbWFuZCA9PT0gJ2VkaXRQYXNzd29yZCcpIHsKICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgICB9CiAgICB9LAogICAgZWRpdFBhc3N3b3JkKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcHV0KCcvdXNlci91cGRhdGVNeVBzdycsIHsKICAgICAgICAgICAgbmFtZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpLAogICAgICAgICAgICBvbGRQYXNzd29yZDogdGhpcy5mb3JtLm9sZFBhc3NXb3JkLAogICAgICAgICAgICBuZXdQYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkLAogICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGVzY3JpcHRpb24gPT09ICdzdWNjZXNzJykgewogICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgIE1lc3NhZ2Uuc3VjY2VzcygnUGFzc3dvcmQgbW9kaWZpY2F0aW9uIHN1Y2Nlc3NmdWwnKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components/Home","sourcesContent":["<template>\n  <div id=\"home\">\n    <div class=\"menu\">\n      <div class=\"title\">\n        <img src=\"./logo.png\" />\n        Billing System\n      </div>\n      <el-menu\n        :default-active=\"defaultMenu\"\n        class=\"el-menu-list\"\n        @select=\"handleSelect\"\n        background-color=\"#545c64\"\n        text-color=\"#fff\"\n        active-text-color=\"#ffd04b\"\n      >\n        <el-menu-item index=\"1\" @click=\"changeRoute('/system/accountManage')\">\n          <i class=\"el-icon-notebook-1\"></i\n          ><span slot=\"title\">Billing Management</span></el-menu-item\n        >\n        <el-menu-item index=\"2\" @click=\"changeRoute('/system/statistics')\">\n          <i class=\"el-icon-collection\"></i><span slot=\"title\">Bill Statistics</span>\n        </el-menu-item>\n        <el-menu-item index=\"4\" @click=\"changeRoute('/system/consumeManage')\"\n          ><i class=\"el-icon-collection\"></i\n          ><span slot=\"title\">Consumption Type</span></el-menu-item\n        >\n        <el-menu-item\n          v-if=\"isAdmin\"\n          index=\"3\"\n          @click=\"changeRoute('/system/userManage')\"\n          ><i class=\"el-icon-user\"></i\n          ><span slot=\"title\">User Management</span></el-menu-item\n        >\n      </el-menu>\n    </div>\n    <div class=\"wrap\">\n      <div class=\"otherInfo\">\n        <div\n          :title=\"`Welcome,${name}`\"\n          style=\"margin-right: 10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden\"\n        >\n        Welcome,{{ name }}\n        </div>\n        <div style=\"display: flex; width: 50px\">\n          <el-dropdown @command=\"handleCommand\">\n            <span class=\"el-dropdown-link\">\n              <i\n                class=\"el-icon-user\"\n                style=\"\n                  font-size: 20px;\n                  margin-right: 10px;\n                  cursor: pointer;\n                \"\n              ></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"editPassword\"\n                >Change Password</el-dropdown-item\n              >\n            </el-dropdown-menu>\n          </el-dropdown>\n\n          <i\n            class=\"el-icon-switch-button\"\n            style=\"font-size: 20px; cursor: pointer; width: 150px\"\n            @click=\"loginOut('/login')\"\n            title=\"Exit\"\n          ></i>\n        </div>\n      </div>\n      <div class=\"wrap-content\" v-if=\"path.indexOf('statistics') > -1\">\n        <Statistics />\n      </div>\n      <div class=\"wrap-content\" v-else-if=\"path.indexOf('userManage') > -1\">\n        <UserManage />\n      </div>\n      <div class=\"wrap-content\" v-else-if=\"path.indexOf('accountManage') > -1\">\n        <AccountsManage />\n      </div>\n      <div class=\"wrap-content\" v-else-if=\"path.indexOf('consumeManage') > -1\">\n        <ConsumeManage />\n      </div>\n    </div>\n    <el-dialog\n      title=\"Change Password\"\n      :visible.sync=\"dialogFormVisible\"\n      destroy-on-close\n    >\n      <el-form :model=\"form\" ref=\"form\" :rules=\"rules\">\n        <el-form-item\n          label=\"Original Password\"\n          :label-width=\"formLabelWidth\"\n          prop=\"oldPassWord\"\n        >\n          <el-input v-model=\"form.oldPassWord\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"New Password\"\n          :label-width=\"formLabelWidth\"\n          prop=\"password\"\n        >\n          <el-input v-model=\"form.password\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n          label=\"Confirm Password\"\n          :label-width=\"formLabelWidth\"\n          prop=\"confirmPassWord\"\n        >\n          <el-input\n            v-model=\"form.confirmPassWord\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"editPassword('form')\"\n          >Confirm</el-button\n        >\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport UserManage from '../UserManage/UserManage.vue'\nimport Statistics from '../Statistics/Statistics.vue'\nimport AccountsManage from '../AccountsManage/AccountsManage.vue'\nimport ConsumeManage from '../ConsumeManage/ConsumeManage.vue'\nimport { put } from '../../utils/http'\nimport { Message } from 'element-ui'\n\nexport default {\n  name: 'Home',\n  components: {\n    UserManage,\n    Statistics,\n    AccountsManage,\n    ConsumeManage,\n  },\n  mounted() {\n    let router = {\n      '#/system/accountManage': '1',\n      '#/system/statistics': '2',\n      '#/system/userManage': '3',\n      '#/system/consumeManage': '4',\n    }\n    this.defaultMenu = router[window.location.hash]\n    this.isAdmin = sessionStorage.getItem('isAdmin') == '1' ? true : false\n  },\n  data() {\n    let path = window.location.hash\n    let validatePassword = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('Please enter password'))\n      } else {\n        let reg = /^[a-zA-Z0-9]{8}$/\n        if (!reg.test(value)) {\n          callback(new Error('The password must consist of 8 letters and numbers, and cannot contain illegal characters!'))\n        }\n\n        callback()\n      }\n    }\n    return {\n      path,\n      dialogFormVisible: false,\n      passwordModalVisible: false,\n      form: {\n        oldPassWord: '',\n        password: '',\n        confirmPassWord: '',\n      },\n      rules: {\n        oldPassWord: [\n          { required: true, message: 'The original password cannot be empty', trigger: 'change' },\n        ],\n        password: [\n          { required: true, message: 'The password cannot be empty' },\n          { validator: validatePassword, trigger: 'change' },\n        ],\n        confirmPassWord: [\n          { required: true, message: 'The confirm password cannot be empty' },\n          { validator: validatePassword, trigger: 'change' },\n        ],\n      },\n      formLabelWidth: '120px',\n      name: sessionStorage.getItem('name'),\n      isAdmin: false,\n      defaultMenu: '1',\n    }\n  },\n  mounter() {},\n  methods: {\n    handleSelect() {},\n    changeRoute(path) {\n      this.path = path\n      this.$router.push({ path })\n    },\n    loginOut(path) {\n      sessionStorage.clear()\n      this.$router.push({ path })\n    },\n    handleCommand(command) {\n      if (command === 'editPassword') {\n        this.dialogFormVisible = true\n      }\n    },\n    editPassword(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          put('/user/updateMyPsw', {\n            name: sessionStorage.getItem('name'),\n            oldPassword: this.form.oldPassWord,\n            newPassword: this.form.password,\n          }).then((res) => {\n            if (res.description === 'success') {\n              this.dialogFormVisible = false\n              Message.success('Password modification successful')\n            }\n          })\n        } else {\n          return false\n        }\n      })\n    },\n  },\n}\n</script>\n<style>\n#home {\n  height: 100%;\n  display: flex;\n}\n.menu {\n  width: 200px;\n  background: rgba(84, 92, 100);\n}\n.el-menu {\n  border-right: none;\n}\n.wrap {\n  width: calc(100% - 200px);\n}\n.menu .title {\n  display: flex;\n  align-items: center;\n  color: #fff;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 60px;\n  vertical-align: middle;\n  animation: pro-layout-title-hide 0.3s;\n  padding: 10px 0 0 10px;\n}\n.menu .title img {\n  margin-right: 10px;\n  width: 26px;\n  height: 26px;\n}\n.otherInfo {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding-right: 20px;\n  box-shadow: 0 1px 4px rgb(0 21 41 / 8%);\n  height: 61px;\n}\n.wrap-content {\n  height: calc(100% - 121px);\n  padding: 20px;\n  overflow-y: auto;\n}\n</style>\n"]}]}