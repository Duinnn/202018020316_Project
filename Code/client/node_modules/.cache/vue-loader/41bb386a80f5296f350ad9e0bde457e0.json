{"remainingRequest":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Login\\Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Login\\Login.vue","mtime":1711184658822},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":1709809064163},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1709809064695},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\postcss-loader\\src\\index.js","mtime":1709809064578},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1709809064695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2xvZ2luIHsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogdXJsKCdodHRwczovL2NuLmJpbmcuY29tL3RoP2lkPU9IUi5Nb29uRG9nc19aSC1DTjUyMDEzMTQxODRfMTkyMHgxMDgwLmpwZyZyZj1MYURpZ3VlXzE5MjB4MTA4MC5qcGcmcGlkPWhwJykKICAgIDUwJSA1MCUgLyBjb3ZlcjsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KLmxvZ2luLXRpdGxlIHsKICBjb2xvcjogI2ZmZjsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZm9udC1zaXplOiAzMHB4Owp9Ci5sb2dpbi1jb250ZW50IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KLmxvZ2luLWZvcm0gewogIHBhZGRpbmc6IDMwcHggNjBweCA2MHB4IDYwcHg7CiAgd2lkdGg6IDQwMHB4Owp9CgouaW5wdXQtdGV4dCB7CiAgbWFyZ2luLWJvdHRvbTogMjVweDsKfQouc3VibWl0LWJ1dHRvbiB7CiAgd2lkdGg6IDk2JTsKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/Login","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-title\">多人协作家庭记账系统</div>\n    <div class=\"login-content\">\n      <div class=\"login-form\">\n        <el-input\n          placeholder=\"Please enter your account number\"\n          prefix-icon=\"el-icon-user\"\n          v-model=\"account\"\n          class=\"input-text\"\n        >\n        </el-input>\n        <el-input\n          placeholder=\"Please enter your password\"\n          prefix-icon=\"el-icon-lock\"\n          v-model=\"password\"\n          show-password\n          class=\"input-text\"\n        >\n        </el-input>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-button\n              class=\"submit-button\"\n              type=\"primary\"\n              round\n              v-on:click=\"login\"\n              >Login</el-button\n            >\n          </el-col>\n          <el-col :span=\"12\">\n            <el-button class=\"submit-button\" round v-on:click=\"register\"\n              >Register</el-button\n            >\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { post } from '../../utils/http'\nimport { Message } from 'element-ui'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      account: '',\n      password: '',\n    }\n  },\n  mounted() {},\n  methods: {\n    login: function() {\n      if (this.account === '') {\n        Message.error({ message: '账号不能为空!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: '密码不能为空!' })\n        return\n      }\n      post('/user/login', { name: this.account, password: this.password }).then(\n        (res) => {\n          if (res.description === 'success') {\n            Message.success({ message: '登录成功' })\n            this.$router.push({ path: '/system/accountManage' })\n            sessionStorage.setItem('userId', res.data[0].id)\n            sessionStorage.setItem('houseId', res.data[0].houseId)\n            sessionStorage.setItem('name', res.data[0].name)\n            sessionStorage.setItem('isAdmin', res.data[0].isAdmin)\n          }\n        }\n      )\n    },\n    register: function() {\n      let namePattern = /^[a-zA-Z0-9_-]{2,16}$/\n      let passwordPattern = /^[a-zA-Z0-9]{8}$/\n      if (this.account === '') {\n        Message.error({ message: '账号不能为空!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: '密码不能为空!' })\n        return\n      }\n      if (!namePattern.test(this.account)) {\n        Message.error({\n          message: '用户名必须由2-16位，字母、数字、下划线组成!',\n        })\n        return\n      }\n      if (!passwordPattern.test(this.password)) {\n        Message.error({\n          message: '密码必须8位字母、数字组成，不能含有非法字符!',\n        })\n        return\n      }\n\n      post('/user/register', {\n        name: this.account,\n        password: this.password,\n        isAdmin: 1,\n      }).then((res) => {\n        if (res.description === 'success') {\n          Message.success({ message: '注册成功，请登录' })\n          this.account === ''\n          this.password === ''\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style>\n#login {\n  height: 100%;\n  background: url('https://cn.bing.com/th?id=OHR.MoonDogs_ZH-CN5201314184_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp')\n    50% 50% / cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.login-title {\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 30px;\n}\n.login-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.login-form {\n  padding: 30px 60px 60px 60px;\n  width: 400px;\n}\n\n.input-text {\n  margin-bottom: 25px;\n}\n.submit-button {\n  width: 96%;\n}\n</style>\n"]}]}