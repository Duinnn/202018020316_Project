{"remainingRequest":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\src\\components\\Login\\Login.vue","mtime":1711184658822},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1709809049077},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\bishe\\account-system-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1709809064695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9odHRwJwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aScKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY291bnQ6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICB9CiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5hY2NvdW50ID09PSAnJykgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoeyBtZXNzYWdlOiAn6LSm5Y+35LiN6IO95Li656m6IScgfSkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAodGhpcy5wYXNzd29yZCA9PT0gJycpIHsKICAgICAgICBNZXNzYWdlLmVycm9yKHsgbWVzc2FnZTogJ+WvhueggeS4jeiDveS4uuepuiEnIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgcG9zdCgnL3VzZXIvbG9naW4nLCB7IG5hbWU6IHRoaXMuYWNjb3VudCwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQgfSkudGhlbigKICAgICAgICAocmVzKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmRlc2NyaXB0aW9uID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKHsgbWVzc2FnZTogJ+eZu+W9leaIkOWKnycgfSkKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL3N5c3RlbS9hY2NvdW50TWFuYWdlJyB9KQogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCByZXMuZGF0YVswXS5pZCkKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaG91c2VJZCcsIHJlcy5kYXRhWzBdLmhvdXNlSWQpCiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCByZXMuZGF0YVswXS5uYW1lKQogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdpc0FkbWluJywgcmVzLmRhdGFbMF0uaXNBZG1pbikKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICkKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24oKSB7CiAgICAgIGxldCBuYW1lUGF0dGVybiA9IC9eW2EtekEtWjAtOV8tXXsyLDE2fSQvCiAgICAgIGxldCBwYXNzd29yZFBhdHRlcm4gPSAvXlthLXpBLVowLTldezh9JC8KICAgICAgaWYgKHRoaXMuYWNjb3VudCA9PT0gJycpIHsKICAgICAgICBNZXNzYWdlLmVycm9yKHsgbWVzc2FnZTogJ+i0puWPt+S4jeiDveS4uuepuiEnIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7IG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbohJyB9KQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmICghbmFtZVBhdHRlcm4udGVzdCh0aGlzLmFjY291bnQpKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5b+F6aG755SxMi0xNuS9je+8jOWtl+avjeOAgeaVsOWtl+OAgeS4i+WIkue6v+e7hOaIkCEnLAogICAgICAgIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKCFwYXNzd29yZFBhdHRlcm4udGVzdCh0aGlzLnBhc3N3b3JkKSkgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ+WvhueggeW/hemhuzjkvY3lrZfmr43jgIHmlbDlrZfnu4TmiJDvvIzkuI3og73lkKvmnInpnZ7ms5XlrZfnrKYhJywKICAgICAgICB9KQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICBwb3N0KCcvdXNlci9yZWdpc3RlcicsIHsKICAgICAgICBuYW1lOiB0aGlzLmFjY291bnQsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgaXNBZG1pbjogMSwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5kZXNjcmlwdGlvbiA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoeyBtZXNzYWdlOiAn5rOo5YaM5oiQ5Yqf77yM6K+355m75b2VJyB9KQogICAgICAgICAgdGhpcy5hY2NvdW50ID09PSAnJwogICAgICAgICAgdGhpcy5wYXNzd29yZCA9PT0gJycKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/Login","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-title\">多人协作家庭记账系统</div>\n    <div class=\"login-content\">\n      <div class=\"login-form\">\n        <el-input\n          placeholder=\"Please enter your account number\"\n          prefix-icon=\"el-icon-user\"\n          v-model=\"account\"\n          class=\"input-text\"\n        >\n        </el-input>\n        <el-input\n          placeholder=\"Please enter your password\"\n          prefix-icon=\"el-icon-lock\"\n          v-model=\"password\"\n          show-password\n          class=\"input-text\"\n        >\n        </el-input>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-button\n              class=\"submit-button\"\n              type=\"primary\"\n              round\n              v-on:click=\"login\"\n              >Login</el-button\n            >\n          </el-col>\n          <el-col :span=\"12\">\n            <el-button class=\"submit-button\" round v-on:click=\"register\"\n              >Register</el-button\n            >\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { post } from '../../utils/http'\nimport { Message } from 'element-ui'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      account: '',\n      password: '',\n    }\n  },\n  mounted() {},\n  methods: {\n    login: function() {\n      if (this.account === '') {\n        Message.error({ message: '账号不能为空!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: '密码不能为空!' })\n        return\n      }\n      post('/user/login', { name: this.account, password: this.password }).then(\n        (res) => {\n          if (res.description === 'success') {\n            Message.success({ message: '登录成功' })\n            this.$router.push({ path: '/system/accountManage' })\n            sessionStorage.setItem('userId', res.data[0].id)\n            sessionStorage.setItem('houseId', res.data[0].houseId)\n            sessionStorage.setItem('name', res.data[0].name)\n            sessionStorage.setItem('isAdmin', res.data[0].isAdmin)\n          }\n        }\n      )\n    },\n    register: function() {\n      let namePattern = /^[a-zA-Z0-9_-]{2,16}$/\n      let passwordPattern = /^[a-zA-Z0-9]{8}$/\n      if (this.account === '') {\n        Message.error({ message: '账号不能为空!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: '密码不能为空!' })\n        return\n      }\n      if (!namePattern.test(this.account)) {\n        Message.error({\n          message: '用户名必须由2-16位，字母、数字、下划线组成!',\n        })\n        return\n      }\n      if (!passwordPattern.test(this.password)) {\n        Message.error({\n          message: '密码必须8位字母、数字组成，不能含有非法字符!',\n        })\n        return\n      }\n\n      post('/user/register', {\n        name: this.account,\n        password: this.password,\n        isAdmin: 1,\n      }).then((res) => {\n        if (res.description === 'success') {\n          Message.success({ message: '注册成功，请登录' })\n          this.account === ''\n          this.password === ''\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style>\n#login {\n  height: 100%;\n  background: url('https://cn.bing.com/th?id=OHR.MoonDogs_ZH-CN5201314184_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp')\n    50% 50% / cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.login-title {\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 30px;\n}\n.login-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.login-form {\n  padding: 30px 60px 60px 60px;\n  width: 400px;\n}\n\n.input-text {\n  margin-bottom: 25px;\n}\n.submit-button {\n  width: 96%;\n}\n</style>\n"]}]}