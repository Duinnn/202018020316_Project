{"remainingRequest":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\src\\components\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\src\\components\\Login\\Login.vue","mtime":1714339280693},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1709809049077},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1709809049101},{"path":"C:\\Users\\12035\\Desktop\\Graduation Design Code\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1709809064695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9odHRwJzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjb3VudDogJycsCiAgICAgIHBhc3N3b3JkOiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5hY2NvdW50ID09PSAnJykgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ0FjY291bnQgY2Fubm90IGJlIGVtcHR5IScKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSAnJykgewogICAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkIGNhbm5vdCBiZSBlbXB0eSEnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBwb3N0KCcvdXNlci9sb2dpbicsIHsKICAgICAgICBuYW1lOiB0aGlzLmFjY291bnQsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kZXNjcmlwdGlvbiA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgICBtZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IExvZ2luJwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9zeXN0ZW0vYWNjb3VudE1hbmFnZScKICAgICAgICAgIH0pOwoKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHJlcy5kYXRhWzBdLmlkKTsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2hvdXNlSWQnLCByZXMuZGF0YVswXS5ob3VzZUlkKTsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCByZXMuZGF0YVswXS5uYW1lKTsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lzQWRtaW4nLCByZXMuZGF0YVswXS5pc0FkbWluKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbmFtZVBhdHRlcm4gPSAvXlthLXpBLVowLTlfLV17MiwxNn0kLzsKICAgICAgdmFyIHBhc3N3b3JkUGF0dGVybiA9IC9eW2EtekEtWjAtOV17OH0kLzsKCiAgICAgIGlmICh0aGlzLmFjY291bnQgPT09ICcnKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAnQWNjb3VudCBjYW5ub3QgYmUgZW1wdHkhJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAnUGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5IScKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghbmFtZVBhdHRlcm4udGVzdCh0aGlzLmFjY291bnQpKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAnVGhlIHVzZXJuYW1lIG11c3QgY29uc2lzdCBvZiAyLTE2IGNoYXJhY3RlcnMsIGxldHRlcnMsIG51bWJlcnMsIGFuZCB1bmRlcnNjb3JlcyEnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXBhc3N3b3JkUGF0dGVybi50ZXN0KHRoaXMucGFzc3dvcmQpKSB7CiAgICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAnVGhlIHBhc3N3b3JkIG11c3QgY29uc2lzdCBvZiA4IGxldHRlcnMgYW5kIG51bWJlcnMsIGFuZCBjYW5ub3QgY29udGFpbiBpbGxlZ2FsIGNoYXJhY3RlcnMhJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcG9zdCgnL3VzZXIvcmVnaXN0ZXInLCB7CiAgICAgICAgbmFtZTogdGhpcy5hY2NvdW50LAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIGlzQWRtaW46IDEKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kZXNjcmlwdGlvbiA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgICBtZXNzYWdlOiAnU3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQsIHBsZWFzZSBsb2dpbicKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMyLmFjY291bnQgPT09ICcnOwogICAgICAgICAgX3RoaXMyLnBhc3N3b3JkID09PSAnJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-title\">Comprehensive Personal Expenses Tracking System</div> \n    <div class=\"login-content\">\n      <div class=\"login-form\">\n        <el-input placeholder=\"Please enter your account number\" prefix-icon=\"el-icon-user\" v-model=\"account\"\n          class=\"input-text\">\n        </el-input>\n        <el-input placeholder=\"Please enter your password\" prefix-icon=\"el-icon-lock\" v-model=\"password\" show-password\n          class=\"input-text\">\n        </el-input>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-button class=\"submit-button\" type=\"primary\" round v-on:click=\"login\">Login</el-button>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-button class=\"submit-button\" round v-on:click=\"register\">Register</el-button>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { post } from '../../utils/http'\nimport { Message } from 'element-ui'\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      account: '',\n      password: '',\n    }\n  },\n  mounted() { },\n  methods: {\n    login: function () {\n      if (this.account === '') {\n        Message.error({ message: 'Account cannot be empty!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: 'Password cannot be empty!' })\n        return\n      }\n      post('/user/login', { name: this.account, password: this.password }).then(\n        (res) => {\n          if (res.description === 'success') {\n            Message.success({ message: 'Successfully Login' })\n            this.$router.push({ path: '/system/accountManage' })\n            sessionStorage.setItem('userId', res.data[0].id)\n            sessionStorage.setItem('houseId', res.data[0].houseId)\n            sessionStorage.setItem('name', res.data[0].name)\n            sessionStorage.setItem('isAdmin', res.data[0].isAdmin)\n          }\n        }\n      )\n    },\n    register: function () {\n      let namePattern = /^[a-zA-Z0-9_-]{2,16}$/\n      let passwordPattern = /^[a-zA-Z0-9]{8}$/\n      if (this.account === '') {\n        Message.error({ message: 'Account cannot be empty!' })\n        return\n      }\n      if (this.password === '') {\n        Message.error({ message: 'Password cannot be empty!' })\n        return\n      }\n      if (!namePattern.test(this.account)) {\n        Message.error({\n          message: 'The username must consist of 2-16 characters, letters, numbers, and underscores!',\n        })\n        return\n      }\n      if (!passwordPattern.test(this.password)) {\n        Message.error({\n          message: 'The password must consist of 8 letters and numbers, and cannot contain illegal characters!',\n        })\n        return\n      }\n\n      post('/user/register', {\n        name: this.account,\n        password: this.password,\n        isAdmin: 1,\n      }).then((res) => {\n        if (res.description === 'success') {\n          Message.success({ message: 'Successfully registered, please login' })\n          this.account === ''\n          this.password === ''\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style>\n#login {\n  height: 100%;\n  background: url('https://cn.bing.com/th?id=OHR.MoonDogs_ZH-CN5201314184_1920x1080.jpg&rf=LaDigue_1920x1080.jpg&pid=hp') 50% 50% / cover;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.login-title {\n   font-family: Arial, Helvetica, sans-serif;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 40px; \n  text-shadow: #000 1px 0 0, #000 0 1px 0, #000 -1px 0 0, #000 0 -1px 0;\n}\n\n.login-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.login-form {\n  padding: 30px 60px 60px 60px;\n  width: 400px;\n}\n\n.input-text {\n  margin-bottom: 25px;\n}\n\n.submit-button {\n  width: 96%;\n}\n</style>\n"],"sourceRoot":"src/components/Login"}]}